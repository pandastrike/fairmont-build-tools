"use strict";

var content, merge, pluck, resolve, tee, thru;

thru = require("through2");

tee = function (f) {
  return thru.obj(async function (file, encoding, callback) {
    await f(file, encoding);
    return callback(null, file);
  });
};

pluck = function (key, f) {
  return tee(function (file) {
    return f(file[key]);
  });
};

content = function (f) {
  return tee(async function (file, encoding) {
    return file.contents = Buffer.from((await f(file.contents.toString(encoding), file)));
  });
};

resolve = function (path) {
  return require.resolve(path, {
    paths: [__dirname]
  });
};

merge = function (...args) {
  return Object.assign({}, ...args);
};

module.exports = { tee, pluck, content, resolve, merge };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUE7O0FBQUEsT0FBTyxRQUFBLFVBQUEsQ0FBUDs7QUFHQSxNQUFNLFVBQUEsQ0FBQSxFQUFBO1NBQ0osS0FBQSxHQUFBLENBQVMsZ0JBQUEsSUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUE7QUFDUCxVQUFNLEVBQUEsSUFBQSxFQUFBLFFBQUEsQ0FBTjtXQUNBLFNBQUEsSUFBQSxFQUFBLElBQUEsQztBQUZGLEdBQUEsQztBQURJLENBQU47O0FBS0EsUUFBUSxVQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7U0FDTixJQUFJLFVBQUEsSUFBQSxFQUFBO1dBQVUsRUFBRSxLQUFGLEdBQUUsQ0FBRixDO0FBQWQsR0FBQSxDO0FBRE0sQ0FBUjs7QUFHQSxVQUFVLFVBQUEsQ0FBQSxFQUFBO1NBQ1IsSUFBSSxnQkFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBO1dBQ0YsS0FBQSxRQUFBLEdBQWdCLE9BQUEsSUFBQSxFQUFZLE1BQU0sRUFBRyxLQUFLLFFBQUwsQ0FBQSxRQUFBLENBQUgsUUFBRyxDQUFILEVBQWxCLElBQWtCLENBQWxCLEU7QUFEbEIsR0FBQSxDO0FBRFEsQ0FBVjs7QUFJQSxVQUFVLFVBQUEsSUFBQSxFQUFBO1NBQ1IsUUFBQSxPQUFBLENBQUEsSUFBQSxFQUFzQjtBQUFBLFdBQU8sQ0FBQSxTQUFBO0FBQVAsR0FBdEIsQztBQURRLENBQVY7O0FBR0EsUUFBUSxVQUFBLEdBQUEsSUFBQSxFQUFBO1NBQWEsT0FBQSxNQUFBLENBQUEsRUFBQSxFQUFrQixHQUFsQixJQUFBLEM7QUFBYixDQUFSOztBQUVBLE9BQUEsT0FBQSxHQUFpQixFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsidGhydSA9IHJlcXVpcmUgXCJ0aHJvdWdoMlwiXG5cblxudGVlID0gKGYpIC0+XG4gIHRocnUub2JqIChmaWxlLCBlbmNvZGluZywgY2FsbGJhY2spIC0+XG4gICAgYXdhaXQgZiBmaWxlLCBlbmNvZGluZ1xuICAgIGNhbGxiYWNrIG51bGwsIGZpbGVcblxucGx1Y2sgPSAoa2V5LCBmKSAtPlxuICB0ZWUgKGZpbGUpIC0+IGYgZmlsZVtrZXldXG5cbmNvbnRlbnQgPSAoZikgLT5cbiAgdGVlIChmaWxlLCBlbmNvZGluZykgLT5cbiAgICBmaWxlLmNvbnRlbnRzID0gQnVmZmVyLmZyb20gYXdhaXQgZiAoZmlsZS5jb250ZW50cy50b1N0cmluZyBlbmNvZGluZyksIGZpbGVcblxucmVzb2x2ZSA9IChwYXRoKSAtPlxuICByZXF1aXJlLnJlc29sdmUgcGF0aCwgcGF0aHM6IFsgX19kaXJuYW1lIF1cblxubWVyZ2UgPSAoYXJncy4uLikgLT4gT2JqZWN0LmFzc2lnbiB7fSwgYXJncy4uLlxuXG5tb2R1bGUuZXhwb3J0cyA9IHt0ZWUsIHBsdWNrLCBjb250ZW50LCByZXNvbHZlLCBtZXJnZX1cbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=helpers.coffee